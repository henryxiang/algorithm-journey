# 优化尝试和状态设计-下

前置知识

讲解042 \- 根据数据量猜解法，天字第一号技巧

讲解087 \- 动态规划中根据数据量猜解法

讲解066 ~ 讲解088 \- 【必备】阶段动态规划专题

动态规划优化专题的讲述顺序

专题1：优化尝试和状态设计\-上，讲解127

专题2：优化尝试和状态设计\-下，讲解128，本节

专题3：倍增优化，讲解129

专题4：单调队列/单调栈优化，讲解130

专题5：树状数组/线段树优化，讲解131

专题6：预处理数组优化，讲解132

以上内容是【扩展】课程阶段，动态规划优化的讲述内容

单调性优化的更多内容，比如斜率优化、四边形不等式优化等，会在【挺难】阶段的视频中讲述

题目1

苹果和盘子

有m个苹果，认为苹果之间无差别，有n个盘子，认为盘子之间无差别

比如5个苹果如果放进3个盘子，那么\(1\, 3\, 1\) \(1\, 1\, 3\) \(3\, 1\, 1\)认为是同一种方法

允许有些盘子是空的，返回有多少种放置方法

测试链接 : [https://www\.nowcoder\.com/practice/bfd8234bb5e84be0b493656e390bdebf](https://www.nowcoder.com/practice/bfd8234bb5e84be0b493656e390bdebf)

数的划分方法

将整数m分成n份，且每份不能为空，任意两个方案不相同\(不考虑顺序\)

比如，m=7、n=3，那么\(1\, 1\, 5\) \(1\, 5\, 1\) \(5\, 1\, 1\)认为是同一种方法

返回有多少种不同的划分方法

测试链接 : [https://www\.luogu\.com\.cn/problem/P1025](https://www.luogu.com.cn/problem/P1025)

时间复杂度O\(n \* m\)，题目的数据规模很小，但即便1<=n\,m<=1000的规模，也能通过

题目2

最好的部署

一共有n台机器，编号1 ~ n，所有机器排成一排

你只能一台一台的部署机器，你可以决定部署的顺序，最终所有机器都要部署

给定三个数组no\[\]、one\[\]、both\[\]

no\[i\] : 如果i号机器部署时，相邻没有机器部署，此时能获得的收益

one\[i\] : 如果i号机器部署时，相邻有一台机器部署，此时能获得的收益

both\[i\] : 如果i号机器部署时，相邻有两台机器部署，此时能获得的收益

第1号机器、第n号机器当然不会有两台相邻的机器

返回部署的最大收益

1 <= n <= 10^5   0 <= no\[i\]、one\[i\]、both\[i\]

来自真实大厂笔试，对数器验证

题目3

增加限制的最长公共子序列问题

给定两个字符串s1和s2，s1长度为n，s2长度为m

返回s1和s2的最长公共子序列长度

注意：

两个字符串都只由小写字母组成

1 <= n <= 10^6

1 <= m <= 10^3

状态设计优化的经典题，对数器验证

最长公共子序列问题的经典解法，讲解067，题目3，一定要先掌握再来看本题的讲述

题目4

大楼扔鸡蛋问题

一共有k枚相同的鸡蛋，一共有n层楼

已知一定存在楼层f\(0\<=f<=n\)，从>f的楼层扔鸡蛋一定会碎，从<=f的楼层扔鸡蛋，扔几次都不会碎

鸡蛋一旦碎了就不能再使用，只能选择另外的鸡蛋

现在想确定f的值，返回最少扔几次鸡蛋，可以确保测出该值

1 <= k <= 100

1 <= n <= 10^4

测试链接 : https://leetcode\.cn/problems/super\-egg\-drop/

题目5

相邻必选的子序列最大中位数

给定一个长度为n的数组arr

合法子序列定义为，任意相邻的两个数至少要有一个被挑选所组成的子序列

求所有合法子序列中，最大中位数是多少

中位数的定义为上中位数

\[1\, 2\, 3\, 4\]的上中位数是2

\[1\, 2\, 3\, 4\, 5\]的上中位数是3

2 <=  n <= 10^5

1 <= arr\[i\] <= 10^9

来自真实大厂笔试，对数器验证

讲解051，二分答案法，一定要先掌握再来看本题的讲述

题目6

将珠子放进背包中

给定一个长度为n的数组weights，背包一共有k个

其中weights\[i\]是第i个珠子的重量

请你按照如下规则将所有的珠子放进k个背包

1，没有背包是空的

2，如果第i个珠子和第j个珠子在同一个背包里，那么i到j所有珠子都要在这个背包里

一个背包如果包含i到j的所有珠子，这个背包的价格是weights\[i\]\+weights\[j\]

一个珠子分配方案的分数，是所有k个背包的价格之和

请返回所有分配方案中，最大分数与最小分数的差值为多少

1 <= n\, k <= 10^5

测试链接 : https://leetcode\.cn/problems/put\-marbles\-in\-bags/

